<section class="content">
  <div class="row">
    <div class="col-md-4 col-xs-12">
      <mk-box-small header="{{ totalReporte }}" backgroundColor="#98b713" headerColor="#FFFFFF" iconStyleClass="fa fa-file-text">
        <mk-box-small-content style="color: white;">Reportes</mk-box-small-content>
        <mk-box-small-footer>
          <a routerLink="/reportes">Mas informacion <i class="fa fa-arrow-circle-right"></i></a>
        </mk-box-small-footer>
      </mk-box-small>
    </div>
    <div class="col-md-4 col-xs-12">
      <mk-box-small header="{{ totalUsuario }}" backgroundColor="#009ec1" headerColor="#FFFFFF" iconStyleClass="fa fa-user-o">
        <mk-box-small-content style="color: white;">Usuarios registrados</mk-box-small-content>
        <mk-box-small-footer>
          <a routerLink="/usuariosA">Mas informacion <i class="fa fa-arrow-circle-right"></i></a>
        </mk-box-small-footer>
      </mk-box-small>
    </div>
    <div class="col-md-4 col-xs-12">
      <mk-box-small header="{{  totalPanicV }}" backgroundColor="#fbc821" headerColor="#FFFFFF" iconStyleClass="fa fa-exclamation-circle">
        <mk-box-small-content style="color: white;">Alertas de panico</mk-box-small-content>
        <mk-box-small-footer>
          <a routerLink="/panic">Mas informacion <i class="fa fa-arrow-circle-right"></i></a>
        </mk-box-small-footer>
      </mk-box-small>
    </div>
  </div>

  <br>
  <br>
  <br>

  <div class="row">
    <div class="col-md-12" style="text-align: center;">
      <img src="/assets/images/logo montemorelos.png" alt="" style="width: 30%;">
    </div>
  </div>
</section>




<nz-modal [(nzVisible)]="isVisibleViewPanicAlert" [nzWidth]="1000" [nzTitle]="modalTitleViewPanicAlert" [nzContent]="modalContentViewPanicAlert" [nzFooter]="modalFooterViewPanicAlert" (nzOnCancel)="handleCancelViewPanicAlert()">
    <ng-template #modalTitleViewPanicAlert>Alerta: {{this.panicDataSelected.nombre}}</ng-template>

    <ng-template #modalContentViewPanicAlert>
      <nz-card nzTitle="INFORMACION" nzType="inner">
        <nz-card-tab>
          <nz-tabset nzSize="large" [(nzSelectedIndex)]="index1">
            <nz-tab nzTitle="Detalle">
              <div style="background: white;">
                <div class="row">
          
                  <div class="col-md-12">
                    <h4><i class="fa fa-user" style="color: #ee7530;"></i> DATOS DEL USUARIO</h4>
                  </div>
          
                  <div class="col-md-3">
                    <label>Nombre</label>
                    <p for="">{{ this.panicDataSelected.nombre }}</p>
                  </div>
          
                  <div class="col-md-3">
                    <label>Teléfono</label>
                    <p for=""><a href="tel:+52{{ this.usuarioDataSelected.phone }}">{{ this.usuarioDataSelected.phone }}</a></p>
                  </div>
          
                  <div class="col-md-3">
                    <label>Correo</label>
                    <p for="">{{ this.usuarioDataSelected.email }}</p>
                  </div>
          
                  <div class="col-md-3">
                    <label>Fecha</label>
                    <p for="">{{ this.panicDataSelected.createAt }}</p>
                  </div>
          
                </div>
           
                <br>
          
                <div class="row">
          
                  <div class="col-md-12">
                    <h4><i class="fa fa-phone" style="color: #ee7530;"></i> DATOS DEL CELULAR</h4>
                  </div>
          
                  <div class="col-md-3">
                    <label>MAC</label>
                    <p for="">95:54:34:43</p>
                  </div>
          
                  <div class="col-md-3">
                    <label>IMEI</label>
                    <p for="">0993429952432549</p>
                  </div>
          
                  <div class="col-md-3">
                    <label>Bateria</label>
                    <p for="">{{ this.panicDataSelected.bateria }} %</p>
                  </div>
          
                </div>
          
                <br>
          
                <div class="row">
                  <div class="col-md-12">
                    <h4><i class="fa fa-map-marker" style="color: #ee7530;"></i> UBICACION</h4>
                  </div>
          
                  <br>
          
                  <div class="col-md-12" (click)="mapaurl(data)">
                    <div #map style="pointer-events:none; width:100%; height:250px"></div>
                  </div>
                </div>
              </div>
            </nz-tab>

            <nz-tab nzTitle="Usuario">
              <div style="background: white;">
                <div class="row">
                  <div class="col-md-12">
                    <h4><i class="fa fa-user" style="color: #ee7530;"></i> USUARIO VERIFICADO</h4>
                  </div>


                  <div class="col-md-3">
                    <div id="lb-back">
                      <div id="lb-img"></div>
                    </div>
                    <div class="container">
                      <input type="checkbox" id="zoomCheck">
                      <label for="zoomCheck">
                        <img src="{{ this.verificadoDataSelected.selfie }}" alt="Selfie">
                      </label>
                    </div>
                  </div>
          
          
                 

                  <div class="col-md-3">
                    <label>Nombre</label>
                    <p for="">{{ this.panicDataSelected.nombre }}</p>
                  </div>
          
                  <div class="col-md-3">
                    <label>Teléfono</label>
                    <p for=""><a href="tel:+52{{ this.usuarioDataSelected.phone }}">{{ this.usuarioDataSelected.phone }}</a></p>
                  </div>
          
                  <div class="col-md-3">
                    <label>Correo</label>
                    <p for="">{{ this.usuarioDataSelected.email }}</p>
                  </div>
              
                </div>

                <div class="row">

                  <div class="col-md-3">
           
                  </div>

                  <div class="col-md-3">
                    <label>Edad</label>
                    <p for="">{{ this.usuarioDataSelected.age }}</p>
                  </div>

                  <div class="col-md-3">
                    <label>Sexo</label>
                    <p for="">{{ this.usuarioDataSelected.sex }}</p>
                  </div>
                </div>

                <br>

                <div class="row">
                  <div class="col-md-12">
                    <h4><i class="fa fa-user" style="color: #ee7530;"></i> DIRECCION</h4>
                  </div>

                  <div class="col-md-3">
                    <label>Municipio</label>
                    <p for="">{{ this.verificadoDataSelected.municipio }}</p>
                  </div>

                  <div class="col-md-3">
                    <label>Colonia</label>
                    <p for="">{{ this.verificadoDataSelected.colonia }}</p>
                  </div>

                  <div class="col-md-3">
                    <label>Calle y numero</label>
                    <p for="">{{ this.verificadoDataSelected.callenumero }}</p>
                  </div>

                </div>

                <br>

                <div class="row"> 
                  <div class="col-md-6">
                    <label for="">Fachada</label>
                    <img src="{{ this.verificadoDataSelected.fachada }}" style="width: 100%; height: 100%;" alt="">
                  </div>

                  <div class="col-md-6" (click)="mapaurlUsuario(data)">
                    <label for="">Ubicacion</label>
                    <div #mapUsuario style="pointer-events:none; width:100%; height:300px;"></div>
                  </div>

                </div>


                <br>

                
                <div class="row">
                  <div class="col-md-12">
                    <h4><i class="fa fa-id-card" style="color: #ee7530;"></i> Credencial de Elector</h4>
                  </div>

                  <div class="col-md-6">
                    <label for="">Parte Delantera</label>
                    <img src="{{ this.verificadoDataSelected.ine }}" style="width: 100%; height: 80%;" alt="">
                  </div>

                  <div class="col-md-6">
                    <label for="">Parte Tracera</label>
                    <img src="{{ this.verificadoDataSelected.ine2 }}" style="width: 100%; height: 80%;" alt="">
                  </div>

                </div>

              </div>
            </nz-tab>


            <nz-tab nzTitle="Ficha Medica">
              <div style="background: white;">

                <div class="row">
                  <div class="col-md-3">
                    <label for="">Grupo sanguineo</label>
                    <p>A+</p>
                  </div>

                  <div class="col-md-3">
                    <label for="">Discapacidad</label>
                    <p>Ninguna</p>
                  </div>

                  <div class="col-md-3">
                    <label for="">Medicamentos</label>
                    <p>Ninguna</p>
                  </div>

                  <div class="col-md-3">
                    <label for="">Alergias</label>
                    <p>Ninguna</p>
                  </div>

                  <div class="col-md-3">
                    <label for="">Enfermedades cronicas</label>
                    <p>Ninguna</p>
                  </div>
                </div>

              </div>
            </nz-tab>

            <nz-tab nzTitle="Historial">
              <div style="background: white;">
                <nz-table #historial [nzData]="panicHistorial" nzBordered="true" [nzLoading]="isLoading" nzSize="small" nzShowPagination="true">
                  <thead>
                      <tr>
                          <th>Fecha</th>
                          <th>Nombre</th>
                          <th>Telefono</th>
                          <!-- <th>Acciones</th> -->
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let data of historial.data">
                          <td>{{ data.createAt }}</td>
                          <td>{{ data.nombre }}</td>
                          <td>{{ data.telefono }}</td>
                          <!-- <td>
                              <button style="margin-right: 10px" nzTitle="Ver" nzPlacement="topCenter" nz-tooltip class="btn btn-success-sabinas" (click)="showModalPanic(data)"><i class="fa fa-eye" aria-hidden="true"></i></button>
                          </td> -->
                      </tr>
                  </tbody>
              </nz-table>
              </div>
            </nz-tab>

          </nz-tabset>
        </nz-card-tab>
      </nz-card>

      <br>

      <div class="row">
        <div class="col-md-12" style="text-align: center;">
          <img src="/assets/images/logo montemorelos.png" alt="" style="width: 10%;">
        </div>
      </div>

    </ng-template>

    <ng-template #modalFooterViewPanicAlert>
      <button nz-button nzType="default" (click)="handleCancelViewPanicAlert()">Cerrar</button>
    </ng-template>
</nz-modal>


